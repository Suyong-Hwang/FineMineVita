<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}Fit Mine Vita{% endblock %}</title>
  {% block extra_css %}{% endblock %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    {% block navigation %}
    {% if not session.get('user_id') %}
    <nav class="navigation-bar">
        <a class="logo" href="{{ url_for('index') }}" title="홈">
            <img src="{{ url_for('static', filename='images/logo/logo.png') }}" alt="Fit Mine Vita Logo" style="width: 100px; height: auto; padding-right: 10px;">
        </a>
        <a class="login" href="{{ url_for('public_login') }}" title="로그인">
            <i class="fas fa-user fa-3x user-icon"></i>
        </a>
        <a class="signup" href="{{ url_for('public_register')}}" class="signup-link" title="회원가입">
            <i class="fas fa-user-plus fa-3x signup-icon"></i> 
          </a>
        <div class="menu-toggle" id="menu-toggle">
            <i class="fas fa-bars fa-3x menu-icon"></i>  <!-- 햄버거 아이콘 -->
        </div>
        <div class="nav-menu" id="nav-menu">
            <a href="{{ url_for('public_login')}}" class="recommend-link">추천</a>
            <a href="{{ url_for('public_about') }}">소개</a>
            <a href="{{ url_for('public_inquiry')}}">문의</a>
            <a href="{{ url_for('public_login') }}">로그인</a>
            <a href="{{ url_for('public_register')}}">회원가입</a>
        </div>
    </nav>
    {% else %}
    <nav class="navigation-bar">
        <a class="logo" href="{{ url_for('user_dashboard') }}" title="홈">
            <img src="{{ url_for('static', filename='images/logo/logo.png') }}" alt="Fit Mine Vita Logo" style="width: 100px; height: auto; padding-right: 10px;">
        </a>
        <p class="greeting-message">{{ session['user_name'] }}님, 오늘도 건강하고 행복한 하루 되세요</p>
        <a class="edit_info" href="#" title="정보 수정">
            <i class="fas fa-user-edit fa-3x"></i>
        </a>

        <a class="inquiry" href="#" title="문의하기">
            <i class="fas fa-envelope fa-3x"></i>
        </a>
        <a class="logout" href="{{ url_for('logout') }}" title="로그아웃">
            <i class="fas fa-sign-out-alt fa-3x"></i>
        </a>
        <div class="menu-toggle" id="menu-toggle">
            <i class="fas fa-bars fa-3x menu-icon"></i>  <!-- 햄버거 아이콘 -->
        </div>
        <div class="user-nav-menu" id="user-nav-menu">
            <a href="#">제품 추천</a>
            <a href="#">생활습관 체크</a>
            <a href="#">문의</a>
            <a href="#">회원탈퇴</a>
        </div>
    </nav>
    {% endif %}
    {% endblock %}
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    <div>
        {% for category, message in messages %}
        <div class="flash-message {{ category }}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}
    {% endwith %}
    {% block header %}
    <header class="header">
        <h1>나만의 건강기능식품, 똑똑하게 추천받기</h1>
        <p>생활 습관에 맞춘 맞춤형 추천 서비스</p>
    </header>
    {% endblock %}
    <!-- 로그인 필요 알림 모달 -->
    <div id="login-alert" class="login-alert">
        <div class="alert-content">
            <h3>로그인 필요</h3>
            <p>로그인이 필요한 서비스입니다.<br>로그인하시겠습니까?</p>
            <div class="alert-buttons">
                <button id="go-to-login" class="btn btn-primary">로그인하기</button>
                <button id="close-alert-btn" class="btn btn-danger">취소</button>
            </div>
        </div>
    </div>
    {% block content %}
    <div class="content">
        <div class="slider-wrapper">
        <!-- 왼쪽 화살표 -->
            <div class="swiper-button-prev"></div>
            
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="{{ url_for('static', filename='images/swiper/image1.png') }}" alt="이미지 1">
                    </div>
                    <div class="swiper-slide">
                        <img src="{{ url_for('static', filename='images/swiper/image2.png') }}" alt="이미지 2">
                    </div>
                    <div class="swiper-slide">
                        <img src="{{ url_for('static', filename='images/swiper/image3.png') }}" alt="이미지 3">
                    </div>
                    <div class="swiper-slide">
                        <img src="{{ url_for('static', filename='images/swiper/image4.png') }}" alt="이미지 4">
                    </div>
                </div>
                <!-- 페이지네이션 -->
                <div class="swiper-pagination"></div>
            </div>
            
            <!-- 오른쪽 화살표 -->
            <div class="swiper-button-next"></div>
    </div>
    {% endblock %}    
    
    <footer class="footer">
        <P>{{ full_date }}</P>
        <p>© 2023 Fit Mine Vita. All rights reserved.</p>
        <p>이 웹사이트는 사용자의 생활 습관에 따른 건강기능식품에 대한 정보를 제공합니다.</p>
    </footer> 
    <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    {% block extra_js %}
    {% endblock %}
</body>
</html>